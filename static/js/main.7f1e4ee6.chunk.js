(this.webpackJsonptpaytest=this.webpackJsonptpaytest||[]).push([[0],[,,,,,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(0),i=c(1),s=c.n(i),a=c(5),l=c.n(a),r=(c(11),c(2)),d=c(3);c(12),c(13);var j=function(e){var t,c,i,s,a,l,r,d,j,o,h,u;return Object(n.jsxs)("div",{className:"Confirm",children:[Object(n.jsx)("section",{className:"Confirm",children:Object(n.jsxs)("div",{className:"requestContainer",children:[Object(n.jsx)("h2",{children:"\uad6c\ub9e4 \ub300\uc0c1 \ud655\uc778"}),Object(n.jsxs)("div",{className:"requestCount",children:[Object(n.jsxs)("span",{children:["\uc804\uccb4",void 0===(null===(t=e.newBuyData)||void 0===t?void 0:t.length)?0:(null===(c=e.newBuyData)||void 0===c?void 0:c.length)+(void 0===(null===(i=e.receiveData)||void 0===i?void 0:i.length)?0:null===(s=e.receiveData)||void 0===s?void 0:s.length),"/"]}),Object(n.jsxs)("span",{children:["\ub300\uae30 ",null===(a=e.newBuyData)||void 0===a?void 0:a.length," /"]}),Object(n.jsxs)("span",{children:["\uc644\ub8cc",0===(null===(l=e.receiveData)||void 0===l?void 0:l.length)?0:null===(r=e.receiveData)||void 0===r?void 0:r.length]})]}),Object(n.jsxs)("table",{children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{onClick:function(){return e.checkAll(e.newBuyData,e.countBool)},children:void 0!=e.newBuyData&&e.countBool===(null===(d=e.newBuyData)||void 0===d?void 0:d.length)?Object(n.jsx)("img",{src:"https://img.icons8.com/ios/15/000000/checked-checkbox--v1.png"}):Object(n.jsx)("img",{src:"https://img.icons8.com/ios/15/000000/unchecked-checkbox.png"})}),Object(n.jsx)("th",{children:"\ud488\ubaa9\uc774\ub984"}),Object(n.jsx)("th",{children:"\ud488\ubaa9\ucf54\ub4dc"}),Object(n.jsx)("th",{children:"\uad6c\ub9e4\ub2e8\uac00(VAT\ud3ec\ud568)"}),Object(n.jsx)("th",{children:"\uad6c\ub9e4\uc785\uace0\uc77c"}),Object(n.jsx)("th",{children:"\uc0c1\ud0dc"}),Object(n.jsx)("th",{children:"\uc2dc\ub9ac\uc5bc"})]})}),Object(n.jsx)("tbody",{children:null===e||void 0===e||null===(j=e.newBuyData)||void 0===j?void 0:j.map((function(t,c){return Object(n.jsxs)("tr",{className:"true"===t.active?"marking":"",children:[Object(n.jsx)("td",{onClick:function(){return e.checking(c,e.newBuyData)},children:"false"===t.active?Object(n.jsx)("img",{src:"https://img.icons8.com/ios/15/000000/unchecked-checkbox.png"}):Object(n.jsx)("img",{src:"https://img.icons8.com/ios/15/000000/checked-checkbox--v1.png"})}),Object(n.jsxs)("td",{children:[t.isUsed?Object(n.jsx)("span",{className:"newOne",children:"[\uc2e0\ud488]"}):Object(n.jsx)("span",{className:"oldOne",children:"[\uc911\uace0]"}),Object(n.jsx)("span",{children:t.name})]}),Object(n.jsx)("td",{children:Object(n.jsx)("span",{children:t.douzoneCode})}),Object(n.jsx)("td",{children:Object(n.jsx)("span",{children:t.unitPrice})}),Object(n.jsx)("td",{children:Object(n.jsx)("span",{className:"createdDate",children:t.created.slice(0,t.created.indexOf("T"))})}),Object(n.jsx)("td",{className:"pending",children:Object(n.jsx)("span",{children:" \ub300\uae30"})}),Object(n.jsxs)("td",{children:[Object(n.jsx)("input",{disabled:!0,type:"text",value:"true"===t.active?"\uc2dc\ub9ac\uc5bc".concat(t.serial):""}),"true"===t.serialActive?Object(n.jsx)("span",{className:"serialErrorMent",children:"\uc2dc\ub9ac\uc5bc\uc774 \uc911\ubcf5\ub418\uc5c8\uc2b5\ub2c8\ub2e4."}):Object(n.jsx)("span",{})]})]},c)}))})]}),0===(null===e||void 0===e||null===(o=e.newBuyData)||void 0===o?void 0:o.length)?Object(n.jsx)("div",{className:"noData",children:Object(n.jsx)("img",{alt:"nodata image",src:"https://icon-library.com/images/no-data-icon/no-data-icon-10.jpg"})}):""]})}),Object(n.jsxs)("section",{className:"buttonWrapper",children:[Object(n.jsx)("button",{className:0===(null===(h=e.newBuyData)||void 0===h?void 0:h.length)?"endButton":"activeButton",type:"submit",onClick:function(){return e.receiveProduct(e.newBuyData)},children:"\uc785\uace0\ud558\uae30"}),Object(n.jsx)("button",{type:"submit",className:0===(null===(u=e.newBuyData)||void 0===u?void 0:u.length)?"endButton":"activeButton",onClick:function(){return e.happenError(e.error,e.buydata)},children:"\uc624\ub958\ubc1c\uc0dd\uc2dc\ud0a4\uae30"})]})]})};c(14);var o=function(e){var t,c,i;return Object(n.jsx)("div",{className:"Done",children:Object(n.jsxs)("section",{className:"Confirm",children:[Object(n.jsxs)("div",{className:"requestContainer",children:[Object(n.jsx)("h2",{children:"\uad6c\ub9e4\uc644\ub8cc"}),Object(n.jsxs)("table",{children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{}),Object(n.jsx)("th",{children:"\ud488\ubaa9\uc774\ub984"}),Object(n.jsx)("th",{children:"\ud488\ubaa9\ucf54\ub4dc"}),Object(n.jsx)("th",{children:"\uad6c\ub9e4\ub2e8\uac00(VAT\ud3ec\ud568)"}),Object(n.jsx)("th",{children:"\uad6c\ub9e4\uc785\uace0\uc77c"}),Object(n.jsx)("th",{children:"\uc0c1\ud0dc"}),Object(n.jsx)("th",{children:"\uc2dc\ub9ac\uc5bc"}),Object(n.jsx)("th",{children:"\uc774\ub825"})]})}),Object(n.jsx)("tbody",{children:null===e||void 0===e||null===(t=e.receiveData)||void 0===t?void 0:t.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"false"===e.active?Object(n.jsx)("img",{src:"https://img.icons8.com/ios/15/000000/unchecked-checkbox.png"}):Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:"https://img.icons8.com/ios/15/000000/checked-checkbox--v1.png"})})}),Object(n.jsxs)("td",{children:[e.isUsed?Object(n.jsx)("span",{className:"newOne",children:"[\uc2e0\ud488]"}):Object(n.jsx)("span",{className:"oldOne",children:"[\uc911\uace0]"}),Object(n.jsx)("span",{children:e.name})]}),Object(n.jsx)("td",{children:Object(n.jsx)("span",{children:e.douzoneCode})}),Object(n.jsx)("td",{children:Object(n.jsx)("span",{children:e.unitPrice})}),Object(n.jsx)("td",{children:Object(n.jsx)("span",{className:"createdDate",children:e.created.slice(0,e.created.indexOf("T"))})}),Object(n.jsx)("td",{className:"pending",children:Object(n.jsx)("span",{className:"green",children:"\uc644\ub8cc"})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{disabled:!0,className:"serialBlock",type:"text",value:"true"===e.active?"\uc2dc\ub9ac\uc5bc".concat(e.serial):""})}),Object(n.jsx)("td",{children:":"})]},t)}))})]}),0===(null===e||void 0===e||null===(c=e.receiveData)||void 0===c?void 0:c.length)?Object(n.jsx)("div",{className:"noData",children:Object(n.jsx)("img",{alt:"nodata image",src:"https://icon-library.com/images/no-data-icon/no-data-icon-10.jpg"})}):""]}),Object(n.jsx)("div",{className:"buttonWrapper",children:Object(n.jsx)("button",{type:"submit",className:0===(null===(i=e.receiveData)||void 0===i?void 0:i.length)?"endButton":"activeButton",children:"\ub418\ub3cc\ub9ac\uae30"})})]})})};c(15);var h=function(e){return Object(n.jsx)("section",{className:"Reqeust",children:Object(n.jsxs)("div",{className:"requestContainer",children:[Object(n.jsx)("h2",{children:"\uad6c\ub9e4\uc694\uccad"}),Object(n.jsxs)("table",{children:[Object(n.jsx)("thead",{children:Object(n.jsx)("tr",{children:Object(n.jsx)("th",{children:"\uae30\ubcf8\uc815\ubcf4"})})}),Object(n.jsxs)("tbody",{children:[Object(n.jsxs)("tr",{children:[Object(n.jsxs)("td",{children:[Object(n.jsx)("span",{children:"*"}),"\uad6c\ub9e4\uc694\uccad\uc790"]}),Object(n.jsx)("td",{className:"inputArea",children:Object(n.jsx)("input",{disabled:!0,className:"buyRequire",type:"text",placeholder:"\uc774\uc0c1\ud6c8"})}),Object(n.jsxs)("td",{children:[Object(n.jsx)("span",{children:"*"}),"\uc9c0\uc0ac"]}),Object(n.jsx)("td",{className:"inputArea",children:Object(n.jsx)("select",{className:"site",name:"site",children:e.site.map((function(e){return Object(n.jsx)("option",{value:e.id,children:e.name},e.id)}))})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsxs)("td",{children:[Object(n.jsx)("span",{children:"*"}),"\ucc3d\uace0"]}),Object(n.jsx)("td",{className:"inputArea",children:Object(n.jsx)("select",{className:"sitePartition",name:"sitePartition",children:e.sitePartition.map((function(e){return Object(n.jsx)("option",{value:e.id,children:e.name},e.id)}))})}),Object(n.jsxs)("td",{children:[Object(n.jsx)("span",{children:"*"}),"\uad6c\ub9e4\ud76c\ub9dd\uc77c"]}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{type:"text"})})]}),Object(n.jsxs)("tr",{className:"memo",children:[Object(n.jsx)("td",{children:"\uba54\ubaa8"}),Object(n.jsx)("td",{colSpan:"3",align:"center",className:"inputArea",children:Object(n.jsx)("textarea",{})})]})]})]})]})})};var u=function(){var e=Object(i.useState)([]),t=Object(d.a)(e,2),c=t[0],s=t[1],a=Object(i.useState)([]),l=Object(d.a)(a,2),u=l[0],b=l[1],O=Object(i.useState)([]),v=Object(d.a)(O,2),x=v[0],p=v[1],m=Object(i.useState)([]),f=Object(d.a)(m,2),g=f[0],N=f[1],y=Object(i.useState)(null),w=Object(d.a)(y,2),D=w[0],S=w[1],k=Object(i.useState)(0),B=Object(d.a)(k,2),A=B[0],C=B[1],P=Object(i.useState)([]),J=Object(d.a)(P,2),q=J[0],E=J[1];function T(e,t){return fetch(e).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})).then((function(e){if("buydata"===t)s(e.data),function(e){var t=[];null===e||void 0===e||e.map((function(e){for(var c=0;c<e.quantity;){var n=JSON.parse(JSON.stringify(e));n.active="false",n.serialActive="false",n.showSerial="false",n.serial=c+1,t.push(n),c+=1}})),S(t)}(e.data);else if("site"===t)b(e);else if("sitePartition"===t)p(e);else{if("error"!==t)return;N(e.data)}}))}return Object(i.useEffect)((function(){T("https://tpay-coding-test.s3.ap-northeast-2.amazonaws.com/data.json","buydata"),T("https://tpay-coding-test.s3.ap-northeast-2.amazonaws.com/site.json","site"),T(" https://tpay-coding-test.s3.ap-northeast-2.amazonaws.com/sitePartition.json","sitePartition"),T("https://tpay-coding-test.s3.ap-northeast-2.amazonaws.com/error.json","error")}),[]),Object(n.jsxs)("div",{className:"Main",children:[Object(n.jsx)(h,{site:u,sitePartition:x}),Object(n.jsx)(j,{buydata:c,error:g,newBuyData:D,checking:function(e,t){null===t||void 0===t||t.forEach((function(c,n){"true"===c.active&&n===e?(S(null===t||void 0===t?void 0:t.map((function(t,c){return c===e&&"true"===t.active?Object(r.a)(Object(r.a)({},t),{},{active:"false",serialActive:"false",showSerial:"false"}):t}))),C(A-1)):"false"===c.active&&n===e&&(S(null===t||void 0===t?void 0:t.map((function(t,c){return c===e&&"false"===t.active?Object(r.a)(Object(r.a)({},t),{},{active:"true",serialActive:"false",showSerial:"false"}):t}))),C(A+1))}))},checkAll:function(e,t){e&&t===(null===e||void 0===e?void 0:e.length)?C(0):C(Number(null===e||void 0===e?void 0:e.length)),S(null===e||void 0===e?void 0:e.map((function(c){return e&&t!==(null===e||void 0===e?void 0:e.length)?Object(r.a)(Object(r.a)({},c),{},{active:"true",serialActive:"false",showSerial:"false"}):Object(r.a)(Object(r.a)({},c),{},{active:"false",serialActive:"false",showSerial:"false"})})))},receiveProduct:function(e){var t=[],c=[];null===e||void 0===e||e.forEach((function(e){var c=JSON.parse(JSON.stringify(e));"true"===(null===c||void 0===c?void 0:c.active)&&"false"===(null===c||void 0===c?void 0:c.showSerial)&&t.push(c),E(null===q||void 0===q?void 0:q.concat(t))})),null===e||void 0===e||e.forEach((function(e){var t=JSON.parse(JSON.stringify(e));"false"!==(null===t||void 0===t?void 0:t.active)&&"true"!==(null===t||void 0===t?void 0:t.showSerial)||c.push(t),S(c)})),C(Number(null===D||void 0===D?void 0:D.length))},receiveData:q,happenError:function(e,t){var c=[];if(void 0!=(null===q||void 0===q?void 0:q.length)&&(null===q||void 0===q?void 0:q.length)>=1)return alert("\uc644\ub8cc\ubd84\uc744 \uc81c\uac70 \ud6c4 \ub2e4\uc2dc \ubc1c\uc0dd\uc2dc\ucf1c\uc8fc\uc138\uc694 [\uc0c8\ub85c\uace0\uce68\uc774 \uc2e4\ud589 \ub429\ub2c8\ub2e4]"),window.location.reload();null===t||void 0===t||t.map((function(t,n){for(var i=0;i<t.quantity;){var s=JSON.parse(JSON.stringify(t));void 0!==e[n+1][i].serial?(s.serial=s.quantity+1,s.active="true",s.serialActive="true",s.showSerial="true",c.push(s)):(s.serial=i+1,s.active="true",s.serialActive="false",s.showSerial="false",c.push(s)),i+=1}})),S(c)},countBool:A}),Object(n.jsx)(o,{receiveData:q})]})},b=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,17)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),i(e),s(e),a(e)}))};l.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(u,{})}),document.getElementById("root")),b()}],[[16,1,2]]]);
//# sourceMappingURL=main.7f1e4ee6.chunk.js.map